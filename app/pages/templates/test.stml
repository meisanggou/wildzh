<template>
	<safe-area>
	<view class="page" >
		<!-- <view class='pageContent'> -->
			<view class='top'>
				<view class="top-title">
					<text class="text">专升本经济学题库（会员搜题版）</text>
				</view>
				<image bindtap="feedbackClick" class="icon" src="../../images/feedback.png"></image>
			</view>

			<view class='middle'>
				<text onclick='before10' class='switch'>‹‹</text>
				<!-- <picker class="switchtext" onChange="skipAction" > -->
					<text class='switchtext'>1/12844</text>
				<!-- </picker> -->
				<text  onclick='after10' class='switch'>››</text>
			</view>
			<view class='content'>
				<!-- <view class="div" onclick="getQuestionTag">
					<text v-if={{nowQuestion.index + 1}}>{{nowQuestion.index + 1}}.</text>
					<view v-for="(item, index) in nowQuestion.question_desc_rich">
						<image v-if={{item.url}} mode='aspectFit' style={{'height:' + item.height + 'px;width:' + item.width + 'px;'}} src={{remote_host + item.url}}></image>
						<text v-else>{{item.value}}</text>
					</view>
					<text v-if={{nowQuestion.question_source}}>({{nowQuestion.question_source}})</text>
					<text v-if={{isShowSubject}}>
						【{{nowQuestion.question_subject}}】
					</text>
					<text v-if={this.data.multiOpts}>[多选]</text>
				</view>
				<image class='descPic' mode='aspectFit' v-if={{nowQuestion.question_desc_url && !videoDesc}} src={{remote_host + nowQuestion.question_desc_url}}></image>
				
				<view class="div view-tag">
					<view class="tag" v-for="item in tags"><text>{{item}}</text></view>
				</view>
				<view class='questionOption' >
					<view id={'option_view_' + idx} class={{options[idx].class? options[idx].class:'noChose'}} onclick='choseItem' data-choseitem={{idx}} v-for="(item,idx) in options" :key="item.value" >
						<text>{{options[idx].optionChar}}、</text>
						<view class="div" v-for="(_item, _index) in item['desc_rich']">
							<text></text>
							<image v-if={{_item.url}} mode='aspectFit' style={{'height:' + _item.height + 'px;width:' + _item.width + 'px;'}} src={{remote_host + _item.url}}></image>
							<text v-else>{{_item.value}}</text>
						</view>
					</view>
				</view>
				<view v-show={{this.data.showConfirm}} class="btn-warn" onclick="confirmAnswer">
					<text>选好了</text>
				</view> -->
				<view class="test" v-show="isShow">
					<view class="deepskyblue">
						<text class="deepskyblue">参考答案： A</text>
						<text class="deepskyblue">你的答案： B</text>
					</view>
					<scroll-view scroll-y="true" class='analysis'>
						<text>解析：</text>
						<view>
							<text>
							1、检查有没有ip_forward
1、检查datapath是不是system
1、检查有没有tag=4095
1、被设置Qos。ovs=2.0.0 突发带宽被设置成2**(22-31)kbs

VLAN网络不通，物理节点是否有vlan子接口


浮动IP不通
1、虚拟机所属网络设置了主机路由？
2、连接路由器设置了静态路由？
3、路由器加到了防火墙？
4、外部网络，设置的网关错误
5、虚拟机子网加入到路由的接口IP，不是虚拟机内部配置的IP
6、虚拟机内部可能没有IP
7、虚拟机安全组未放行
网络丢包
1、流量大？
2、IP地址冲突？
3、mac地址学习不对？
3、业务网卡bond有问题？

TCP通信，没流量了，可能接收端处理能力不够，发送了win=0,可通过 netstat -ano 第二列就是Recv -Q 数据已经在本地接收缓冲,但是还没有recv().




1、创建虚拟机失败 nova调neutron 报ConnectFailure: Unable to establish connection (Connection aborted BadStatusLine(""))  
--- nova调neutron更新端口，neutron更新端口时，需要发送rpc fanout消息，发现消息队列NA，发送rpc消息时一直卡到那。NA队列删除不了时，可通过解绑exchange的方式弃用该队列。

2、创建port一直超时，504。获取port正常，创建网络都正常
同1 可能是其他队列NA了，可搜索 q-agent neutron-vo neutron_dhcp查看是否有NA的队列


3、龙芯环境设置qos报错
无法执行tc qdisc add dev enp8s0f0 root handle 1: htb
缺少内核模块 sch_htb


							</text>
						</view>
						<view>
						<!-- <text>
						
验证步骤：
1、检查各个计算节点业务网卡是否正常
2、检查外部网络，用于分配浮动IP的子网是否 设置正确service_type: network:floatingip
3、检查外部网络，用于router_gateway的子网 是否在设置正确的service_types  floatingip_agent_gateway，router_gateway
openstack subnet set --service-type network:floatingip_agent_gateway 
4、检查外部网络，用于floatingip_agent_gateway，router_gateway的子网 可用IP数是否够用（剩余IP数至少和计算节点数目一致）
5、修改配置文件，推送DVR部署模式
6、界面关闭 预修改分布式路由器的 管理状态，此时该路由器相关的浮动IP会马上断网，其他路由器不受影响
7、预修改路由器更新成分布式 openstack router set --distributed 
8、界面打开 预修改路由器路由器 的管理状态，此时底层会自动将路由器改成分布式模式，该路由器相关的浮动IP会慢慢自动恢复网络

验证总结：
1、重推DVR和更改路由器为分布式路由器，都可能会出现断网，目前测试来看，重推DVR会出现1s的断网（具体断网时间和当前节点的路由器数目有关，以目前规模估计会在秒级），将路由器改成分布式时，非网关节点断网50s左右，网关节点断网80s左右（具体跟节点路由器规模有关，以目前规模估计，非网关节点断网一分钟左右，网关节点断网2分钟左右。
2、改成DVR以后，流量统计需要适配分布式模式
3、支持servcie_type，减少公网IP的使用（测试环境test_metering是改造的路由器，可查看）
end!!!
						</text> -->
						</view>
					</scroll-view>
				</view>
				
			</view>
		<!-- </view> -->
		<view class='bottom div'>
			<text  onclick='before1' class='switch'>‹</text>
			<text class='switchtext' onclick='showAnswer'>显示答案</text>
			<text onclick='after1' class='switch'>›</text>
		</view>
	</view>
	</safe-area>
</template>
<script>
export default {
	name: 'test',
	apiready(){//like created

	},
	data() {
		return{
			items: [
				{'list': ['a', 'b', 'c']},
				{'list': ['a1', 'b3', 'c7']},
				{'list': ['a2', 'b5', 'c8']},
			],
			skipIndex: 1,
			skipNums: [1, 2, 5, 10, 100, 200],
			isShow: false
		}
	},
	methods: {
		showAnswer: function(){
			this.data.isShow = true;
		}
	}
}
</script>
<style>
	/* page{
		height: 100%;
	} */

	.pageContent{
		/* height: 100%; */
		overflow: scroll;
		/* display: block; */
	}
	.page {
		/* height: auto; */
		background: rgb(255, 255, 255);
		height: 100%;
	}


	.top {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: space-around;
		padding: 7px 0px 7px 50px;
		border-bottom: 0.5px solid #5d5d5d;
		font-size: 16px;
		background-color: cyan;
		height: 40px;
		flex-shrink: 0;
	}

	.middle {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: space-around;
		padding: 7px 0px 7px 0px;
		/* font-size: 16px; */
		background-color: chocolate;
		/* line-height: 60px;
		height: 60px; */
		/* min-height: 60px; */
		
		/* height: 45px;
		line-height: 45px; */
		flex-shrink: 0;

	}

	/* .top view {
	padding: 5px 10px 5px 10px;
	border-radius: 7px;
	} */

	.content {
		/* height: auto; */
		font-size: 16px;
		/* margin: 10px; */
		background-color: blueviolet;
		/* height: 100px; */
		
	}

	.item {
		margin-bottom: 7px;
		font-size: 16px;
		margin: 10px;
	}

	.line {
		margin-top: 50px;
		display: flex;
		border-bottom: 0px solid #5d5d5d;
		align-items: center;
		justify-content: space-around;
		z-index: 8;
		margin-bottom: 30px;
	}

	.showAnswer {
		font-size: 16px;
		padding: 5px 10px 5px 10px;
		border: 0px solid #5d5d5d;
		border-radius: 7px;
		margin-bottom: -16px;
		z-index: 9;
		background-color: #fff;
	}

	.switch {
		font-size: 20px;
		text-align: center;
		width: 33%;
		/* background-color: darkseagreen; */
		line-height: 48px;
		height: 48px;
		/* flex-shrink: 0; */
	}

	.switchtext {
		font-size: 20px;
		text-align: center;
		width: 33%;
		/* flex-shrink: 0; */
		/* background-color: gold; */
	}

	.bottom {
		width: 100%;
		font-size: 14px;
		position: fixed;
		bottom: 0px;
		background-color: #fff;
		height: 50px;
		border-top: 1px solid #c9c9d8;
		display: flex;
		align-items: center;
		justify-content: space-around;
		z-index: 10;
	}
	.top-title {
		text-align: center;
		width: 90%;
		/* flex-shrink: 0; */
	}

	.icon {
		float: right;
		height: 25px;
		width: 25px;
	}
	.feedback-type{
		width: 100%;
		font-size: 18px;
		background-color: white;
		/* background-color: transparent; */
		margin-top: 10px;
		margin-bottom: 15px;
	}
	.fd-type-picker{
		width: 100%;
	}
	.fb-type-k {
		width: 35%;
		font-weight: bold;
		/* padding-right: 5px; */
		display: inline-block;
	}

	.fb-type-v {
		width: 65%;
		text-align: center;
		background-color: white;
		/* padding-left: 10px; */
		/* padding-right: 10px; */
		padding-top: 10px;
		padding-bottom: 10px;
		display: inline-block;
	}

	.fb-desc{
		font-size: 18px;
		background-color: white;
		width: 100%;
	}


	/* 推广信息 样式 */
	.ad-modal {
		position: fixed;
		display: block;
		width: 100%;
		height: 100%;
		left: 0;
		top: 0;
		background-color: rgba(0, 0, 0, 0.3);
		z-index: 100;
		justify-content: center;
		align-items: center;
	}

	.ad {
		position: fixed;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		margin: auto;
		background-color: white;
		width: 90%;
		height: 90%;
	}

	.ad-content{
		/* margin: 0 auto;  左右居中 */
		width: 94%;
		position: absolute;
		left: 3%;
		top: 15px;
		bottom: 50px;
		border-style: solid;
		border-width: 1px;
		border-color: gray;
		overflow-y: scroll;
	}

	.ad-btn-view{
		position: absolute;
		bottom: 0px;
		right: 0px;
		height: 50px;
		line-height: 50px;
		display: flex;
	}

	.ad-btn {
		margin-right: 15px;
	}
	.ad-btn checkbox{
		transform: scale(0.8,0.8);
		width: 25px;
	}
	.mini-size {
		font-size: small;
	}
	/* 原有mp-quesiton 样式*/
	.div {
		display: flex; 
  		flex-direction: row;
		flex-wrap: wrap;
	}
	.view-tag {
		margin-top: 7px;
		margin-bottom: 7px;
	}
	.tag {
		/* border:1px solid; */
		border-radius:7px;
		margin-left: 5px;
		padding-left: 7px;
		padding-right: 7px;
		padding-top: 6px;
		padding-bottom: 6px;
		background-color: #FFBB77	;
	}
	.noChose {
		display: flex; 
  		flex-direction: row;
		flex-wrap: wrap;
		background-color: #f0f5fb;
        height: auto;
		min-height: 35px;
		line-height: 35px;
		font-size: 15px;
		margin: 10px 10px 10px 10px;
		padding-left: 10px;
		padding-top: 5px;
		padding-bottom: 5px;
		color: #363637;
		border-radius: 2.5px;
	}
	
	.chose {
		display: flex; 
  		flex-direction: row;
		flex-wrap: wrap;
		background-color: #fff;
		/* DodgerBlue  */
		color: #1E90FF; 
		border: 1px #1E90FF solid;
		min-height: 35px;
		line-height: 35px;
		font-size: 15px;
		margin: 10px 10px 10px 10px;
		padding-left: 10px;
		padding-top: 5px;
		padding-bottom: 5px;
		border-radius: 2.5px;
	}

	.errorChose {
		display: flex; 
  		flex-direction: row;
		flex-wrap: wrap;
		background-color: #fff;
		color: #f01212;
		border: 1px #f01212 solid;
		min-height: 35px;
		line-height: 34px;
		font-size: 15px;
		margin: 10px 10px 10px 10px;
		padding-left: 10px;
		padding-top: 5px;
		padding-bottom: 5px;
		border-radius: 2px;
	}

	.btn-warn{
		margin-top: 20px;
		margin-bottom: 15px;
		margin-left: 20px;
		/* border: solid 0px ; */
		color: black;
		background-color: #dec674;
		text-align: center;
		padding: 5px;
		width: 75px;
	}

	.analysis{
		margin-top: 10px;
		/* height: 100px; */
	}
	.test {
		/* flex-shrink: 0; */
	}

	.deepskyblue {
		flex-shrink: 0;
		color: 	#00BFFF;
	}
</style>